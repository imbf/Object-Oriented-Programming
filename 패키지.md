# 모듈과 패키지

## 6.1 패키지(package)

### 자바의 모듈과 패키지, 클래스 경로명

자바에서 **패키지(package)**란 서로 관련 있는 클래스나 인터페이스의 컴파일된 클래스(.class) 파일들을 한 곳에 묶어 놓은 것이다.

하나의 패키지는 관련된 클래스 파일들이 들어 있는 디렉터리로 보면 된다.

자바 JDK는 개발자들에게 많은 클래스들을 패키지 형태로 제공하는데, JDK 9부터는 패키지들을 **모듈(module)**이라는 단위로 묶어, 100개에 가까운 모듈을 제공한다. 모듈은 JDK 설치 디렉터리밑의 jmods 디렉터리에 .jmod 확장자를 가진 압축 파일 형태(ZIP 포맷)로 제공된다.

가장 많이 사용되는 모듈 : java.base 저장되어 있는 파일 => java.base.jmod 파일

클래스를 지칭할 때는 모듈 명은 사용하지 않고, 패키지명을 포함하는 경로명으로 나타낸다. ( java.util.Scanner )

---

## 6.2 import 와 클래스 경로

### 패키지 사용하기, import 문

응용프로그램에서 다른 패키지에 있는 클래스를 사용하고자 한다면 패키지명을 포함하는 경로명을 사용하여야 한다.

```java
// Scanner 클래스 사용 예시
public class ImportExample{
  public static void main(String[] args){
    java.util.Scanner scanner = new java.util.Scanner(System.in);
    System.out.println(scanner.next());
  }
}
// Scanner 클래스를 사용하기 위해서는, 완전 경로명인 java.util.Scanner를 사용한다. (무조건 완전 경로)
```

**import 문**은 다른 패키지의 클래스를 사용할 때, 컴파일러에게 그 클래스의 경로명을 알려주는 문으로 2가지 방법으로 사용할 수 있다. 반드시 소스코드 앞부분에 작성되어야 한다.

1. 클래스마다 경로명을 알려줄 수 있다. 

   ```java
   import 패키지.클래스;	// 클래스의 경로명을 컴파일러에게 알려주는 문
   ```

2. 한 패키지에 있는 여러 클래스를 impot 하고자 하는 경우, 다음과 같이 *를 사용하여 한번에 선언할 수도 있다.

   ```java
   import 패키지.*;
   ```

---

## 6.3 패키지 만들기

### 패키지 선언

자바 소스 파일(.java)이 컴파일되어 생기는 클래스 파일(.class 파일)은 반드시 패키지에 소속되어야 한다.

클래스가 소속될 **패키지 명**은 다음과 같이 **package 키워드**를 이용하여 **소스 파일 첫 줄에 선언**한다.

### 디폴트 패키지(default package)

package 선언문을 사용하지 않고 자바 클래스나 인터페이스를 작성하면, 자바 컴파일러는 클래스나 인터페이스를 **디폴트 패키지(default package)**에 소속시킨다. **디폴트 패키지는 현재 디렉터리이다.**

### 패키지의 특징

- **패키지 계층 구조** : JDK 패키지 역시 디렉터리 곛으 구조로 만들어진다. **계층화**에 유리
- **패키지별 접근 제한** : 접근 권한의 범위로도 이용할 수 있다.
- **동일한 이름의 클래스를 다른 패키지에 작성 가능** : 같은 패키지 내에서는 동일한 이름을 가진 클래스나 인터페이가 존재할 수 없지만 다른 패키지에서는 가능하다.
- **소프트웨어의 높은 재사용성** 

---

## 6.4 모듈 개념

### 모듈

**모듈(module)**은, 패키지(package)들을 담는 컨테이너로 모듈 파일(.jmod)로 저장한다.

### 모듈 기반의 자바 실행 환경

**자바 실행 환경(java run time environment)**이란 자바 응용프로그램이 실행되는데 필요한 제반 환경으로서, 응용프로그램이 실행 중에 사용하는 **자바 API 클래스**와 **자바 가상 기계(JVM)** 등으로 이루어진다.

Java 9 이전까지 자바 API의 모든 클래스들은 rt.jar라는 하나의 단일체(monolithic)로 구성되었고, 자바 가상 기꼐는 응용프로그램 실행 도중, 필요한 클래스 파일을 rt.jar에서 풀어 메모리에 로딩하고 실행하였다. 즉. 일부 클래스만 사용하더라도 rt.jar 전체가 설치되는 구조였다.

Java9 에서는 rt.jar를 버렸고, 대신 자바 API를 많은 수의 모듈로 분할하여, 자바 응용프로그램을 컴파일 할 때 실행에 필요한 모듈들만으로 조립하여 구성하도록 하였다.

### 자바 모듈화의 목적

**자바 컴포넌트들을 필요에 따라 조립하여 사용하기 위함이다.** 필요 없는 모듈이 로드되지 않게 하여 컴퓨터 시스템에 불필요한 부담을 줄인다. 특히 하드웨어가 열악한 소형 IoT 장치에서도 자바 응용프로그램이 실행되고 성능을 유지하게 한다.

---

## 6.5 자바 JDK에서 제공하는 패키지

자바를 설치하면 자바 개발 도구인 **JDK(Java Development Kit)**가 설치되며 이곳에는 개발자들이 사용할 수 이는 많은 
**클래스들이 패키지에 담기고 다시 모듈에 담겨 제공**된다. 자바에서 제공하는 이 기본 클래스들을 **자바 API**라고 한다.

JDK의 표준 패키지는 모듈로 나누어져 JDK를 설치한 디렉터리 밑의 jmods 디렉터리에 담겨 있다.























